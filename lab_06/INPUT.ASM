PUBLIC NUMBER
PUBLIC NEGATIVE
PUBLIC INPUT_COMMAND
PUBLIC INPUT_SIGNED_OCTAL

DATASEG SEGMENT PARA PUBLIC 'DATA'
	NEGATIVE DB 0
    NUMBER DW 0
    INMSG DB 'Enter signed octal number (from -100000 to 77777): $'
DATASEG ENDS

CODESEG SEGMENT PARA PUBLIC 'CODE'
    ASSUME CS:CODESEG, DS:DATASEG

INPUT_COMMAND PROC NEAR
    MOV AH, 1
    INT 21H
    SUB AL, '1'
    MOV CL, 2
    MUL CL
    MOV SI, AX
    RET
INPUT_COMMAND ENDP


INPUT_SIGNED_OCTAL PROC NEAR
    MOV AH, 9
    MOV DX, OFFSET INMSG
    INT 21H

    XOR BX, BX

    INPUT_SYMBOL:
        MOV AH, 1
        INT 21H
        CMP AL, 13
        JE ENDINP
		CMP AL, '-'
		JE CHANGE_SIGN
        MOV DL, AL
		MOV CL, 3
        SHL AX, CL
        XOR DH, DH
        SUB DL, '0'
        ADD BX, DX
        JMP INPUT_SYMBOL

    ENDINP:
    MOV NUMBER, BX
    RET
	
	CHANGE_SIGN:
		MOV DL, 1
		MOV NEGATIVE, DL
		JMP INPUT_SYMBOL
INPUT_SIGNED_OCTAL ENDP

CODESEG ENDS
END